<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Bander ğŸ’›</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* (à¤†à¤ªà¤•à¤¾ CSS à¤¯à¤¹à¤¾à¤ à¤µà¤¹à¥€ à¤¹à¥ˆ à¤œà¥‹ à¤†à¤ªà¤¨à¥‡ à¤ªà¤¹à¤²à¥‡ à¤¦à¤¿à¤¯à¤¾ à¤¥à¤¾) */
body {
    margin: 0;
    font-family: 'Arial', cursive;
    background: black;
    color: gold;
    text-align: center;
    overflow-x: hidden;
}

section {
    min-height: 100vh;
    padding: 30px 10px;
    /* Important: We rely on 'display: none' initially */
    display: none; 
    border: 4px solid goldenrod;
    position: relative;
    /* Use flex for content centering */
    flex-direction: column;
    align-items: center;
    justify-content: center;
    /* FIX: Transition for smoother page change appearance (Optional) */
    transition: opacity 0.5s ease;
    opacity: 0;
}

/* FIX: This makes the active section visible */
section.active { 
    display: flex;
    opacity: 1;
}

h1, h2 {
    text-shadow: 0 0 15px gold;
    margin-bottom: 20px;
}

.box-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    max-width: 800px;
    margin: 20px auto;
}

/* 3D Flip BOX setup */
.box-container {
    width: 150px;
    height: 150px;
    margin: 10px;
    perspective: 1000px;
    display: inline-block;
}

.box {
    width: 100%;
    height: 100%;
    border-radius: 15px;
    font-weight: bold;
    cursor: pointer;
    transition: transform 0.8s;
    transform-style: preserve-3d;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
    position: relative;
}

.box.flipped { transform: rotateY(180deg); }

.front, .back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 15px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 10px;
    box-sizing: border-box;
    border: 3px solid #fff;
    color: black;
}

.front { background: #ffd1dc; z-index: 2; }
.back { transform: rotateY(180deg); }

.back img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 12px;
}

/* Heart and other elements CSS remains the same */
.heart {
    font-size: 50px;
    margin-top: 30px;
    cursor: pointer;
    animation: pulse 1s infinite;
    text-shadow: 0 0 10px red;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

#cake-container { position: relative; display: inline-block; margin-top: 20px; }
#cake { width: 250px; cursor: pointer; box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); border-radius: 50%; }
.flame { position: absolute; top: 15px; left: 50%; transform: translateX(-50%); font-size: 35px; transition: opacity 1s; pointer-events: none; z-index: 10; }
.blow { opacity: 0; }
.love { position: fixed; top: -10px; font-size: 20px; animation: fall 5s linear infinite; z-index: 9999; pointer-events: none; }
@keyframes fall { to { transform: translateY(110vh); } }
.fire { position: fixed; inset: 0; background: black; animation: flash 0.5s infinite alternate; z-index: 10000; }
@keyframes flash { 0% { background: black; } 50% { background: #ff0077; } 100% { background: black; } }

#start-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.95); color: gold; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10002; text-align: center;
}
#start-button {
    padding: 15px 30px; font-size: 24px; background: goldenrod; color: black; border: none; border-radius: 10px; cursor: pointer; box-shadow: 0 0 20px gold; animation: pulse 1s infinite;
}

/* P5 Final Gift Styling */
#p5-content {
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* Hiding the elements initially for two-step reveal */
#final-photo-container {
    display: none; /* Hidden initially */
    margin-bottom: 20px;
    border: 5px solid goldenrod;
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 0 20px gold;
    cursor: pointer; /* Enable click on photo */
}

#final-message {
    display: none; /* Hidden initially */
    max-width: 300px;
    padding: 15px;
    margin-top: 20px;
    border: 3px solid #ffdd00;
    background: rgba(255, 221, 0, 0.2);
    border-radius: 10px;
    box-shadow: 0 0 10px #ffdd00;
}

#final-photo {
    width: 200px;  
    height: 200px;
    object-fit: cover;
    display: block;
}

/* Style for the P5 initial Box (Gift 26) */
#gift-26-box .front { 
    background: linear-gradient(135deg, #ffc0cb, #ff69b4); 
    color: white; 
}
</style>

</head>

<body>

<div id="start-overlay">
    <h1>ğŸ’› Happy Birthday Bander! ğŸ’›</h1>
    <p>Jisne meri life ko special banaya uske liye special sa GIFT</p>
    <button id="start-button"> DEKHNA HAI -- CLICK KARO... (Let's start) </button>
</div>

<audio id="audio_p1" loop src="song1.mp3"></audio>
<audio id="audio_p2" loop src="song2.mp3"></audio>
<audio id="audio_p3" loop src="song3.mp3"></audio>
<audio id="audio_p4" loop src="song4.mp3"></audio>
<audio id="audio_p5" loop src="song5.mp3"></audio>

<section id="p1"> 
    <h1>ğŸ‚ Happy Birthday Bander ğŸ‚</h1>
    <p> Aapko me kya gift de sakti hu.... <br> Aap khud hi meri life me bahut special gift ho. â˜ºï¸ ğŸ’›</p>
    <h2>Phir bhi aapke liye 26 pyaare gifts ğŸ</h2>

    <div id="cake-container">
        <img id="cake" src="cake.jpg" alt="Birthday Cake">
        <div class="flame">ğŸ”¥</div>
    </div>

    <p style="margin-top:20px;">Cake par click karo ğŸ’¨</p>
</section>

<section id="p2">
    <h2>ğŸ Special GIFTS for Precious ONE ğŸ</h2>
    <div id="g1" class="box-grid"></div>
    <div class="heart" onclick="showPage(3)"> à¤†à¤—à¥‡ à¤¬à¤¢à¤¼à¥‹! â¤ï¸</div>
</section>

<section id="p3">
    <h2>âœ¨ Special moments for Special ONEâœ¨</h2>
    <div id="g2" class="box-grid"></div>
    <div class="heart" onclick="showPage(4)"> à¤†à¤–à¤¼à¤¿à¤°à¥€ à¤–à¤¼à¤¾à¤¸ à¤šà¥€à¤œà¤¼à¥‡à¤‚! â¤ï¸</div>
</section>

<section id="p4">
    <h2>ğŸ’Œ Special Birthday Wishes for YOU ğŸ’ (21-25) ğŸ’Œ</h2>
    <div id="wishes" class="box-grid"></div>
    <div class="heart" onclick="showPage(5)"> Secret Surprise â¤ï¸</div>
</section>

<section id="p5">
    <h2>ğŸ‰ Most SPECIAL Moment ğŸ‰</h2>
    
    <div id="p5-content">
        <div class="box-container" id="gift-26-box">
            <div class="box" onclick="revealPhoto()">
                <div class="front">
                    Open Final Gift!
                </div>
                <div class="back" style="background:none;"></div> 
            </div>
        </div>

        <div id="final-photo-container" onclick="revealMessage()">
            <img id="final-photo" src="final.jpg" alt="Final Special Photo" onerror="this.onerror=null; this.src='error.png'; console.error('Final photo not found');">
        </div>

        <div id="final-message">
             <p style="font-size:16px; color:gold; font-weight:bold; line-height:1.4;">
                Tum bahut kuchh karte ho sabke liye... Is birthday ek gift khud ko de lo ğŸ’ <br> 
                Kuchh khud ke liye khud hi health khud ki khushi or khud ke sukoon ke liye kar lo ğŸ¥° <br> 
                Thoda apna dhyan rakhna shuru kar lo mere pagal ğŸ«¶ <br> 
                Thankyou meri life me aakar itna special banane ke liye ğŸµ <br> 
                ğŸ¤ HAPPY BIRTHDAY AGAIN ğŸ¤
            </p>
        </div>
    </div>
</section>


<script>

// --- CONFIGURATION START ---

const IMAGE_FILES_G1 = [
    "gift 1.jpg", "gift 2.jpg", "gift 3.jpg", "gift 4.jpg",
    "gift 5.jpg", "gift 6.jpg", "gift 7.jpg", "gift 8.jpg", 
    "gift 9.jpg", "gift 10.jpg"
];

const IMAGE_FILES_G2 = [
    "gift 11.jpg", "gift 12.jpg", "gift 13.jpg", "gift 14.jpg",
    "gift 15.jpg", "gift 16.jpg", "gift 17.jpg", "gift 18.jpg",
    "gift 19.jpg", "gift 20.jpg"
];

// P5 Final Photo Name (using 'final.jpg' as per your HTML)
// Note: This is now handled directly in HTML, no need to overwrite here.

const WISH_TEXTS = [
    "Tum meri life ke safest place ho, jahs mujhe sochna nahi padta ki mujhe kya result milega ğŸ’›",
    "Tumhari smile meri har problem ka solution hai beshak tum aaj kal kam karte ho par jab bhi karte ho sukoon milta haiğŸ˜Š",
    "Tum na kabhi bhi ye tension mat lena ki me aapko chhod dungi ya kuchh bhi kyuki hume bhagvan ne milaya hai or jise vo milata hai na use koi duur nahi kar sakta â¤ï¸", 
    "Tum mere liye sab kuch ho meri puri duniya meri zindagi meri khushi meri himmat. Aap agar na hote to me apni life imagine bhi nahi kar sakti ğŸŒ",
    "Happy' Birthday my love ğŸ«‚ <br> I Love You Forever â¤ï¸"
];

const BRIGHT_COLORS = [
    '#FFD1DC', '#FFB3BA', '#FFFFBA', '#BAFFC9', '#BAE1FF',
    '#FFC5A1', '#E0BBE4', '#A8DADC', '#F4978E', '#BEE3DB'
];
// --- CONFIGURATION END ---


function getRandomColor() {
    return BRIGHT_COLORS[Math.floor(Math.random() * BRIGHT_COLORS.length)];
}


const audioPlayers = {
    p1: document.getElementById('audio_p1'),
    p2: document.getElementById('audio_p2'),
    p3: document.getElementById('audio_p3'),
    p4: document.getElementById('audio_p4'),
    p5: document.getElementById('audio_p5'),
};


function playAudioForPage(pageId) {
    Object.values(audioPlayers).forEach(audio => {
        if (audio && !audio.paused) {
            audio.pause();
            audio.currentTime = 0;
        }
    });
    const audio = audioPlayers[pageId];
    if (audio) {
        audio.play().catch(e => console.error(`Audio for ${pageId} play failed:`, e));
    }
}


// FIX 1: Enhanced showPage function for reliable switching
function showPage(n) {
    const pageId = "p" + n;
    // Hide all sections first
    document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
    // Show only the target section
    const targetSection = document.getElementById(pageId);
    if (targetSection) {
        targetSection.classList.add("active");
        playAudioForPage(pageId);
    }
}


// --- GIFT BOX CREATION ---
function createGiftBox(i, containerId, imageUrl, isWish = false, wishText = "") {
    let container = document.getElementById(containerId);
    let boxContainer = document.createElement("div");
    boxContainer.className = "box-container";

    let box = document.createElement("div");
    box.className = "box";

    let front = document.createElement("div");
    front.className = "front";
    front.textContent = isWish ? "Gift "+i+": Open Wish" : "Gift " + i;
    front.style.backgroundColor = getRandomColor();

    let back = document.createElement("div");
    back.className = "back";
    
    if (isWish) {
        // FIX 2: Added event listener for wishes to show text without flip
        front.onclick = (event) => {
            event.currentTarget.textContent = wishText;
            event.currentTarget.style.fontSize = '12px'; // Adjust size for long text
            event.currentTarget.style.cursor = 'default';
            startLoveRain();
        };
        back.style.display = 'none'; // Hide back for wish boxes
    } else {
        // Photo Boxes
        back.innerHTML = `<img src="${imageUrl}" alt="Gift ${i} Photo" onerror="this.onerror=null; this.src='error.png'; console.error('Image not found: ${imageUrl}')">`;
         // Box Click/Flip Logic for photo boxes
        front.onclick = () => {
            if (!box.classList.contains("flipped")) {
                box.classList.add("flipped");
                startLoveRain();
            }
        };
    }
    
    box.appendChild(front);
    box.appendChild(back);
    boxContainer.appendChild(box);
    container.appendChild(boxContainer);
}


// Populate Gifts 1-10 (Photo Boxes)
for (let i = 1; i <= 10; i++) {
    createGiftBox(i, 'g1', IMAGE_FILES_G1[i-1]);
}

// Populate Gifts 11-20 (Photo Boxes)
for (let i = 11; i <= 20; i++) {
    createGiftBox(i, 'g2', IMAGE_FILES_G2[i-11]);
}

// Populate Wishes 21-25 (Text Boxes - No Flip)
for (let i = 21; i <= 25; i++) {
    createGiftBox(i, 'wishes', '', true, WISH_TEXTS[i-21]);
}


// --- START SCREEN AND PAGE 1 LOGIC ---
const startButton = document.getElementById('start-button');
const startOverlay = document.getElementById('start-overlay');
const cake = document.getElementById('cake');

// Handle the user click to start everything
startButton.onclick = () => {
    startOverlay.style.display = 'none';
    showPage(1); // Use showPage(1) to start
};

// Cake click logic to move to P2
cake.onclick = () => {
    document.querySelector(".flame").classList.add("blow");
    audioPlayers.p1.pause(); 
    setTimeout(() => showPage(2), 1500); 
};


// --- FINAL PAGE (P5) LOGIC ---
const finalBoxContainer = document.getElementById('gift-26-box');
const finalPhotoContainer = document.getElementById('final-photo-container');
const finalMessage = document.getElementById('final-message');

// FIX 3: Step 1: Open Gift Box -> Reveal Photo
function revealPhoto() {
    finalBoxContainer.style.display = 'none'; // Hide initial box
    finalPhotoContainer.style.display = 'block'; // Show photo
    startLoveRain();
}

// FIX 3: Step 2: Click Photo -> Reveal Message
function revealMessage() {
    finalMessage.style.display = 'block'; // Show the final message
    finalPhotoContainer.onclick = finale; // Next click on photo triggers firework
    // Optional: Change photo container style to indicate next action is FINALE
    finalPhotoContainer.style.cursor = 'default';
    finalPhotoContainer.style.borderColor = 'red';
}

// --- LOVE RAIN EFFECT ---
let rainInterval;
function startLoveRain() {
    if (rainInterval) { clearInterval(rainInterval); }
    
    let rainDuration = 5000;
    let heartCreationInterval = 200;

    rainInterval = setInterval(() => {
        let l = document.createElement("div");
        l.className = "love";
        l.innerHTML = "ğŸ’–";
        l.style.left = Math.random() * 100 + "vw";
        l.style.animationDuration = (Math.random() * 3) + 3 + "s";
        document.body.appendChild(l);
        setTimeout(() => l.remove(), 6000);
    }, heartCreationInterval);
    
    setTimeout(() => {
        clearInterval(rainInterval);
    }, rainDuration);
}


// --- FINAL FINALE (Firework) LOGIC ---
function finale() {
    audioPlayers.p5.pause(); 
    
    document.body.innerHTML += `
    <div class="fire"></div>
    <h1 style="position:fixed;top:40%;width:100%;z-index:10001;color:white;text-shadow:0 0 20px goldenrod;">
    ğŸ† Happy Birthday Meri Jaan ğŸ†<br>
    I Love You Always ğŸ’›
    </h1>`;
}

</script>

</body>
</html>
